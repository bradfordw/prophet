<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OCILIB (C Driver for Oracle): Database Change notifications (DCN or CQN)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OCILIB (C Driver for Oracle)&#160;<span id="projectnumber">3.9.3</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Database Change notifications (DCN or CQN)</div>  </div>
</div>
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>OCILIB supports Oracle 10gR2 feature Database Change Notifications (DCN) also named Continuous Query Notifications (CQN)</p>
<p>This features allows a client application to register notifications when some changes are made in a database :</p>
<ul>
<li>Database status changes : startup and shutdown</li>
<li>Database objects changes :<ul>
<li>DDL changes : alter or drop actions</li>
<li>DML changes : insert, delete, update actions</li>
</ul>
</li>
</ul>
<p>This feature can be really useful in applications that hold a cache of data. Instead of refreshing data periodically by connecting to the server, the application could only refresh modified data when necessary or perform specific tasks depending on the events. It saves application time, network traffic and can help the design of the application logic.</p>
<p>The database status change notification is also interesting to be informed of instance startup / shutdown</p>
<p>Check Oracle documentation for more details about this feature</p>
<dl class="note"><dt><b>Note:</b></dt><dd>No active database connection is required to receive the notifications as they are handled by the Oracle client using a dedicated socket connection to the server</dd></dl>
<dl class="user"><dt><b>Dabatase changes</b></dt><dd></dd></dl>
<p>The client application can be notified of any database status change (single DB or multiple DB in a RAC environment).</p>
<dl class="user"><dt><b>Object changes</b></dt><dd></dd></dl>
<p>The notifications of object changes are based on the registration of a query ('select' SQL statement).</p>
<p>Oracle server will notify of any changes of any object that is part of the statement result set.</p>
<p>Registering a statement will notify about any changes on its result set rows performed after the registration of the query.</p>
<p>The query can be a simple 'select * from table' or a complex query involving many tables and/or criteria in the where clause.</p>
<p>For Object changes, the notification can be at :</p>
<ul>
<li>At Object level : only the object name (schema + object) is given</li>
<li>At row level : same that object level + RowID of the altered row</li>
</ul>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Trying to use this features with a client/server version &lt; 10gR2 will raise an error</dd></dl>
<dl class="user"><dt><b>Example</b></dt><dd><div class="fragment"><pre class="fragment"><span class="preprocessor">#include &quot;ocilib.h&quot;</span>

<span class="preprocessor">#ifdef _WINDOWS</span>
<span class="preprocessor"></span><span class="preprocessor">  #define sleep(x) Sleep(x*1000)</span>
<span class="preprocessor"></span><span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define wait_for_events() sleep(5)</span>
<span class="preprocessor"></span>
<span class="keywordtype">void</span> event_handler(<a class="code" href="struct_o_c_i___event.html" title="OCILIB encapsulation of Oracle DCN event.">OCI_Event</a> *event);
<span class="keywordtype">void</span> error_handler(<a class="code" href="struct_o_c_i___error.html" title="Encapsulates an Oracle or OCILIB exception.">OCI_Error</a> *err);

<span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
{
    <a class="code" href="struct_o_c_i___connection.html" title="Oracle physical connection.">OCI_Connection</a>   *con;
    <a class="code" href="struct_o_c_i___subscription.html" title="OCILIB encapsulation of Oracle DCN notification.">OCI_Subscription</a> *sub;
    <a class="code" href="struct_o_c_i___statement.html" title="Oracle SQL or PL/SQL statement.">OCI_Statement</a>    *st;
 
    printf(<span class="stringliteral">&quot;=&gt; Initializing OCILIB in event mode...\n\n&quot;</span>);

    <span class="keywordflow">if</span> (!<a class="code" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize</a>(error_handler, NULL, OCI_ENV_EVENTS))
        <span class="keywordflow">return</span> EXIT_FAILURE;

    printf(<span class="stringliteral">&quot;=&gt; Connecting to usr@db...\n\n&quot;</span>);

    con = <a class="code" href="group__g__connect.html#gadb6e2cdf759587dd81c2fda7c5f44338" title="Create a physical connection to an Oracle database server.">OCI_ConnectionCreate</a>(<span class="stringliteral">&quot;db&quot;</span>, <span class="stringliteral">&quot;usr&quot;</span>, <span class="stringliteral">&quot;pwd&quot;</span>, OCI_SESSION_DEFAULT);
    
    <a class="code" href="group__g__transac.html#ga8a21e8ab3893ae71ff8d8f6c9795566d" title="Enable / disable auto commit mode.">OCI_SetAutoCommit</a>(con, TRUE);
 
    printf(<span class="stringliteral">&quot;=&gt; Creating statement...\n\n&quot;</span>);

    st  = <a class="code" href="group__g__exec.html#ga335822f983af0fb5c529431f06a9a17b" title="Create a statement object and return its handle.">OCI_StatementCreate</a>(con);

    printf(<span class="stringliteral">&quot;=&gt; Creating tables...\n\n&quot;</span>);

    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;create table table1(code number)&quot;</span>);
    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;create table table2(str varchar2(10))&quot;</span>);

    printf(<span class="stringliteral">&quot;=&gt; Registering subscription...\n\n&quot;</span>);

    sub = <a class="code" href="group__g__subscription.html#gae5ed7f8bee2cc2d9d7e7babfb65529bd" title="Register a notification against the given database.">OCI_SubscriptionRegister</a>(con, <span class="stringliteral">&quot;sub-00&quot;</span>, OCI_CNT_ALL, event_handler, 5468, 0);

    printf(<span class="stringliteral">&quot;=&gt; Adding queries to be notified...\n\n&quot;</span>);

    <a class="code" href="group__g__exec.html#gad5a7fcffe7d24da001e44636cfc06578" title="Prepare a SQL statement or PL/SQL block.">OCI_Prepare</a>(st, <span class="stringliteral">&quot;select * from table1&quot;</span>);
    <a class="code" href="group__g__subscription.html#ga5e21132d60056afa78348f380bacf702" title="Add a statement to the notification to monitor.">OCI_SubscriptionAddStatement</a>(sub, st);

    <a class="code" href="group__g__exec.html#gad5a7fcffe7d24da001e44636cfc06578" title="Prepare a SQL statement or PL/SQL block.">OCI_Prepare</a>(st, <span class="stringliteral">&quot;select * from table2&quot;</span>);
    <a class="code" href="group__g__subscription.html#ga5e21132d60056afa78348f380bacf702" title="Add a statement to the notification to monitor.">OCI_SubscriptionAddStatement</a>(sub, st);

    printf(<span class="stringliteral">&quot;=&gt; Executing some DDL operation...\n\n&quot;</span>);

    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;alter table table1 add price number&quot;</span>);

    wait_for_events();
 
    printf(<span class="stringliteral">&quot;=&gt; Executing some DML operation...\n\n&quot;</span>);

    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;insert into table1 values(1, 10.5)&quot;</span>);
    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;insert into table2 values(&#39;shoes&#39;)&quot;</span>);

    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;update table1 set price = 13.5 where code = 1&quot;</span>);
    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;delete from table2 &quot;</span>);

    wait_for_events();

    printf(<span class="stringliteral">&quot;=&gt; Droping tables...\n\n&quot;</span>);

    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;drop table table1&quot;</span>);
    <a class="code" href="group__g__exec.html#gaf2163ec44e644cc734c393188707985b" title="Execute a SQL statement or PL/SQL block.">OCI_ExecuteStmt</a>(st, <span class="stringliteral">&quot;drop table table2&quot;</span>);

    wait_for_events();

    printf(<span class="stringliteral">&quot;=&gt; Disconnecting from DB...\n\n&quot;</span>);

    <a class="code" href="group__g__connect.html#gac3fe655e96074adb119908be4650a4c9" title="Close a physical connection to an Oracle database server.">OCI_ConnectionFree</a>(con);

    printf(<span class="stringliteral">&quot;=&gt; Stopping the remote database...\n\n&quot;</span>);

    <a class="code" href="group__g__instances.html#ga115743c640717b7219ceec174aa97b12" title="Shutdown a database instance.">OCI_DatabaseShutdown</a>(<span class="stringliteral">&quot;db&quot;</span>, <span class="stringliteral">&quot;sys&quot;</span>, <span class="stringliteral">&quot;sys&quot;</span>,   
                         OCI_SESSION_SYSDBA,
                         OCI_DB_SDM_FULL,
                         OCI_DB_SDF_IMMEDIATE);

    wait_for_events();;

    printf(<span class="stringliteral">&quot;=&gt; Starting the remote database...\n\n&quot;</span>);

    <a class="code" href="group__g__instances.html#ga7f06851fea8d3865120b7aca74fee6c6" title="Start a database instance.">OCI_DatabaseStartup</a>(<span class="stringliteral">&quot;db&quot;</span>, <span class="stringliteral">&quot;sys&quot;</span>, <span class="stringliteral">&quot;sys&quot;</span>,   
                         OCI_SESSION_SYSDBA,
                         OCI_DB_SPM_FULL,
                         OCI_DB_SPF_FORCE,
                         NULL);

    wait_for_events();

    printf(<span class="stringliteral">&quot;=&gt; Unregistering subscription...\n\n&quot;</span>);

    <a class="code" href="group__g__subscription.html#gaee7e14ee05f2368b4843aaf61d284341" title="Deregister a previously registered notification.">OCI_SubscriptionUnregister</a>(sub);

    printf(<span class="stringliteral">&quot;=&gt; Cleaning up OCILIB resources...\n\n&quot;</span>);

    <a class="code" href="group__g__init.html#ga639706aa8e9689c7ebffc018fac6d3ae" title="Clean up all resources allocated by the library.">OCI_Cleanup</a>();

    printf(<span class="stringliteral">&quot;=&gt; Done...\n\n&quot;</span>);

    <span class="keywordflow">return</span> EXIT_SUCCESS;
}

<span class="keywordtype">void</span> error_handler(<a class="code" href="struct_o_c_i___error.html" title="Encapsulates an Oracle or OCILIB exception.">OCI_Error</a> *err)
{
    <span class="keywordtype">int</span>         err_type = <a class="code" href="group__g__error.html#ga66d447c8cd06ea3f841b439a1aac055b" title="Retrieve the type of error from error handle.">OCI_ErrorGetType</a>(err);
    <span class="keyword">const</span> <span class="keywordtype">char</span> *err_msg  = <a class="code" href="group__g__error.html#gaa06418c61c432aaaa725fecdd28bcb96" title="Retrieve error message from error handle.">OCI_ErrorGetString</a>(err);

    printf(<span class="stringliteral">&quot;** %s - %s\n&quot;</span>, err_type == OCI_ERR_WARNING ? <span class="stringliteral">&quot;Warning&quot;</span> : <span class="stringliteral">&quot;Error&quot;</span>, err_msg);
}

<span class="keywordtype">void</span> event_handler(<a class="code" href="struct_o_c_i___event.html" title="OCILIB encapsulation of Oracle DCN event.">OCI_Event</a> *event)
{
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type     = <a class="code" href="group__g__subscription.html#ga0f5fb0fdd972f5d09a6745b05706ff0f" title="Return the type of event reported by a notification.">OCI_EventGetType</a>(event);
    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> op       = <a class="code" href="group__g__subscription.html#ga0bc0106ab06c682f77dd763733573a7d" title="Return the type of operation reported by a notification.">OCI_EventGetOperation</a>(event);
    <a class="code" href="struct_o_c_i___subscription.html" title="OCILIB encapsulation of Oracle DCN notification.">OCI_Subscription</a> *sub = <a class="code" href="group__g__subscription.html#ga6a8667ed40a4be1eb47b1a0552791407" title="Return the subscription handle that generated this event.">OCI_EventGetSubscription</a>(event);

    printf(<span class="stringliteral">&quot;** Notification      : %s\n\n&quot;</span>, <a class="code" href="group__g__subscription.html#gae4c513bd35cc2a82fea63375eb95f37a" title="Return the name of the given registered subscription.">OCI_SubscriptionGetName</a>(sub));
    printf(<span class="stringliteral">&quot;...... Database      : %s\n&quot;</span>,   <a class="code" href="group__g__subscription.html#ga91d8396f3557037acc0667d066010852" title="Return the name of the database that generated the event.">OCI_EventGetDatabase</a>(event));

    <span class="keywordflow">switch</span> (type)
    {
        <span class="keywordflow">case</span> OCI_ENT_STARTUP:
            printf(<span class="stringliteral">&quot;...... Event         : Startup\n&quot;</span>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> OCI_ENT_SHUTDOWN:
            printf(<span class="stringliteral">&quot;...... Event         : Shutdown\n&quot;</span>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> OCI_ENT_SHUTDOWN_ANY:
            printf(<span class="stringliteral">&quot;...... Event         : Shutdown any\n&quot;</span>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> OCI_ENT_DROP_DATABASE:
            printf(<span class="stringliteral">&quot;...... Event         : drop database\n&quot;</span>);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> OCI_ENT_DEREGISTER:
            printf(<span class="stringliteral">&quot;...... Event         : deregister\n&quot;</span>);
            <span class="keywordflow">break</span>;
         <span class="keywordflow">case</span> OCI_ENT_OBJECT_CHANGED:
            
            printf(<span class="stringliteral">&quot;...... Event         : object changed\n&quot;</span>);
            printf(<span class="stringliteral">&quot;........... Object   : %s\n&quot;</span>, <a class="code" href="group__g__subscription.html#ga3bb56ac5e63da5ce1e9a1e8ed541ff35" title="Return the name of the name of the object that generated the event.">OCI_EventGetObject</a>(event));
      
            <span class="keywordflow">switch</span> (op)
            {
                <span class="keywordflow">case</span> OCI_ONT_INSERT:
                    printf(<span class="stringliteral">&quot;........... Action   : insert\n&quot;</span>);
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> OCI_ONT_UPDATE:
                    printf(<span class="stringliteral">&quot;........... Action   : update\n&quot;</span>);
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> OCI_ONT_DELETE:
                    printf(<span class="stringliteral">&quot;........... Action   : delete\n&quot;</span>);
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> OCI_ONT_ALTER:
                    printf(<span class="stringliteral">&quot;........... Action   : alter\n&quot;</span>);
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> OCI_ONT_DROP:
                    printf(<span class="stringliteral">&quot;........... Action   : drop\n&quot;</span>);
                    <span class="keywordflow">break</span>;
            }
                    
            <span class="keywordflow">if</span> (op &lt; OCI_ONT_ALTER)
                printf(<span class="stringliteral">&quot;........... Rowid    : %s\n&quot;</span>,  <a class="code" href="group__g__subscription.html#ga188c67375bfce08c8d737124ec0494e4" title="Return the rowid of the altered database object row.">OCI_EventGetRowid</a>(event));
        
            <span class="keywordflow">break</span>;
    }
    
    printf(<span class="stringliteral">&quot;\n&quot;</span>);
}
</pre></div> </dd></dl>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT <a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> <br class="typebreak"/>
*OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#gae5ed7f8bee2cc2d9d7e7babfb65529bd">OCI_SubscriptionRegister</a> (<a class="el" href="struct_o_c_i___connection.html">OCI_Connection</a> *con, const mtext *name, unsigned int type, <a class="el" href="group__g__objects.html#ga6eed7878852e796a705f452bad294fd2">POCI_NOTIFY</a> handler, unsigned int port, unsigned int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a notification against the given database.  <a href="#gae5ed7f8bee2cc2d9d7e7babfb65529bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT boolean OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#gaee7e14ee05f2368b4843aaf61d284341">OCI_SubscriptionUnregister</a> (<a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *sub)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deregister a previously registered notification.  <a href="#gaee7e14ee05f2368b4843aaf61d284341"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT boolean OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga5e21132d60056afa78348f380bacf702">OCI_SubscriptionAddStatement</a> (<a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *sub, <a class="el" href="struct_o_c_i___statement.html">OCI_Statement</a> *stmt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a statement to the notification to monitor.  <a href="#ga5e21132d60056afa78348f380bacf702"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT const mtext *OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#gae4c513bd35cc2a82fea63375eb95f37a">OCI_SubscriptionGetName</a> (<a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *sub)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of the given registered subscription.  <a href="#gae4c513bd35cc2a82fea63375eb95f37a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT unsigned int OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#gaac2b2c3f7bc5e07f230cb4f797f95e8c">OCI_SubscriptionGetPort</a> (<a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *sub)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the port used by the notification.  <a href="#gaac2b2c3f7bc5e07f230cb4f797f95e8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT unsigned int OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga56fb04b8fe1cf961dbab6ee90b3362ca">OCI_SubscriptionGetTimeout</a> (<a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *sub)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the timeout of the given registered subscription.  <a href="#ga56fb04b8fe1cf961dbab6ee90b3362ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT unsigned int OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga0f5fb0fdd972f5d09a6745b05706ff0f">OCI_EventGetType</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the type of event reported by a notification.  <a href="#ga0f5fb0fdd972f5d09a6745b05706ff0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT unsigned int OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga0bc0106ab06c682f77dd763733573a7d">OCI_EventGetOperation</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the type of operation reported by a notification.  <a href="#ga0bc0106ab06c682f77dd763733573a7d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT const dtext *OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga91d8396f3557037acc0667d066010852">OCI_EventGetDatabase</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of the database that generated the event.  <a href="#ga91d8396f3557037acc0667d066010852"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT const dtext *OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga3bb56ac5e63da5ce1e9a1e8ed541ff35">OCI_EventGetObject</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of the name of the object that generated the event.  <a href="#ga3bb56ac5e63da5ce1e9a1e8ed541ff35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT const dtext *OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga188c67375bfce08c8d737124ec0494e4">OCI_EventGetRowid</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the rowid of the altered database object row.  <a href="#ga188c67375bfce08c8d737124ec0494e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OCI_EXPORT <a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> <br class="typebreak"/>
*OCI_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__subscription.html#ga6a8667ed40a4be1eb47b1a0552791407">OCI_EventGetSubscription</a> (<a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the subscription handle that generated this event.  <a href="#ga6a8667ed40a4be1eb47b1a0552791407"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae5ed7f8bee2cc2d9d7e7babfb65529bd"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionRegister" ref="gae5ed7f8bee2cc2d9d7e7babfb65529bd" args="(OCI_Connection *con, const mtext *name, unsigned int type, POCI_NOTIFY handler, unsigned int port, unsigned int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT <a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a>* OCI_API OCI_SubscriptionRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___connection.html">OCI_Connection</a> *&#160;</td>
          <td class="paramname"><em>con</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtext *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__g__objects.html#ga6eed7878852e796a705f452bad294fd2">POCI_NOTIFY</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Register a notification against the given database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>- Connection handle </td></tr>
    <tr><td class="paramname">name</td><td>- Notification name </td></tr>
    <tr><td class="paramname">type</td><td>- Subscription type </td></tr>
    <tr><td class="paramname">handler</td><td>- User handler callback </td></tr>
    <tr><td class="paramname">port</td><td>- Port to use for notifications </td></tr>
    <tr><td class="paramname">timeout</td><td>- notification timeout</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Parameter 'type' can be one of the following values :</dd></dl>
<ul>
<li>OCI_CNT_OBJECTS : request for changes at objects (eg. tables) level (DDL / DML)</li>
<li>OCI_CNT_ROWS : request for changes at rows level (DML)</li>
<li>OCI_CNT_DATABASES : request for changes at database level (startup, shutdown)</li>
<li>OCI_CNT_ALL : request for all changes</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions</dd>
<dd>
Subscription handles are automatically managed by the library</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>
<p>Subscription handle on success or NULL on failure </p>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00172">172</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaee7e14ee05f2368b4843aaf61d284341"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionUnregister" ref="gaee7e14ee05f2368b4843aaf61d284341" args="(OCI_Subscription *sub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT boolean OCI_API OCI_SubscriptionUnregister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deregister a previously registered notification. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sub</td><td>- Subscription handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_cleanup() will automatically deregister any non deregistered subscriptions</dd>
<dd>
If the database connection passed to <a class="el" href="group__g__subscription.html#gae5ed7f8bee2cc2d9d7e7babfb65529bd" title="Register a notification against the given database.">OCI_SubscriptionRegister()</a> has been closed by the time that the application calls OCI_SubscriptionUnregister, the library internally reconnects to the given database, performs the deregistration and then disconnects</dd>
<dd>
OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success otherwise FALSE </dd></dl>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00400">400</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e21132d60056afa78348f380bacf702"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionAddStatement" ref="ga5e21132d60056afa78348f380bacf702" args="(OCI_Subscription *sub, OCI_Statement *stmt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT boolean OCI_API OCI_SubscriptionAddStatement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___statement.html">OCI_Statement</a> *&#160;</td>
          <td class="paramname"><em>stmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a statement to the notification to monitor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sub</td><td>- Subscription handle </td></tr>
    <tr><td class="paramname">stmt</td><td>- Statement handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The given statement must be prepared but not executed before being passed to this function. <a class="el" href="group__g__subscription.html#ga5e21132d60056afa78348f380bacf702" title="Add a statement to the notification to monitor.">OCI_SubscriptionAddStatement()</a> executes the statement and register it for notifications</dd>
<dd>
OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions</dd>
<dd>
The given statement must hold a 'SELECT' SQL statement</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>TRUE on success otherwise FALSE </dd></dl>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00424">424</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

<p>References <a class="el" href="group__g__exec.html#ga7189aa353845909aaedc8d5956429450">OCI_Execute()</a>, and <a class="el" href="group__g__fetch.html#gaf2a9e28b66a9538ba0ffb62bffb87c16">OCI_GetResultset()</a>.</p>

</div>
</div>
<a class="anchor" id="gae4c513bd35cc2a82fea63375eb95f37a"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionGetName" ref="gae4c513bd35cc2a82fea63375eb95f37a" args="(OCI_Subscription *sub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT const mtext* OCI_API OCI_SubscriptionGetName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of the given registered subscription. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sub</td><td>- Subscription handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00466">466</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaac2b2c3f7bc5e07f230cb4f797f95e8c"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionGetPort" ref="gaac2b2c3f7bc5e07f230cb4f797f95e8c" args="(OCI_Subscription *sub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT unsigned int OCI_API OCI_SubscriptionGetPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the port used by the notification. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sub</td><td>- Subscription handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00482">482</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga56fb04b8fe1cf961dbab6ee90b3362ca"></a><!-- doxytag: member="ocilib.h::OCI_SubscriptionGetTimeout" ref="ga56fb04b8fe1cf961dbab6ee90b3362ca" args="(OCI_Subscription *sub)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT unsigned int OCI_API OCI_SubscriptionGetTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a> *&#160;</td>
          <td class="paramname"><em>sub</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the timeout of the given registered subscription. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sub</td><td>- Subscription handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="subscription_8c_source.html#l00498">498</a> of file <a class="el" href="subscription_8c_source.html">subscription.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0f5fb0fdd972f5d09a6745b05706ff0f"></a><!-- doxytag: member="ocilib.h::OCI_EventGetType" ref="ga0f5fb0fdd972f5d09a6745b05706ff0f" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT unsigned int OCI_API OCI_EventGetType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the type of event reported by a notification. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The returned value can be one of the following values :</dd></dl>
<ul>
<li>OCI_ENT_STARTUP : a database has been started up</li>
<li>OCI_ENT_SHUTDOWN : a database has been shut down</li>
<li>OCI_ENT_SHUTDOWN_ANY : a database has been shut down (RAC)</li>
<li>OCI_ENT_DROP_DATABASE : a database has benn dropped</li>
<li>OCI_ENT_DEREGISTER : the notification is timed out</li>
<li>OCI_ENT_OBJECT_CHANGED : a database object has been modified</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="group__g__subscription.html#ga91d8396f3557037acc0667d066010852" title="Return the name of the database that generated the event.">OCI_EventGetDatabase()</a> returns the affected database</dd>
<dd>
OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions</dd>
<dd>
<a class="el" href="group__g__subscription.html#ga3bb56ac5e63da5ce1e9a1e8ed541ff35" title="Return the name of the name of the object that generated the event.">OCI_EventGetObject()</a> returns the affected object ('schema_name'.'object_name') </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00082">82</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0bc0106ab06c682f77dd763733573a7d"></a><!-- doxytag: member="ocilib.h::OCI_EventGetOperation" ref="ga0bc0106ab06c682f77dd763733573a7d" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT unsigned int OCI_API OCI_EventGetOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the type of operation reported by a notification. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Thi call is only valid when <a class="el" href="group__g__subscription.html#ga0f5fb0fdd972f5d09a6745b05706ff0f" title="Return the type of event reported by a notification.">OCI_EventGetType()</a> reports the event type OCI_ENT_OBJECT_CHANGED</dd>
<dd>
The returned value can be one of the following values :</dd></dl>
<ul>
<li>OCI_ONT_INSERT : an insert has been performed</li>
<li>OCI_ONT_UPDATE : an update has been performed</li>
<li>OCI_ONT_DELETE : a delete has been performed</li>
<li>OCI_ONT_ALTER : an alter has been performed</li>
<li>OCI_ONT_DROP : a drop has been performed</li>
<li>OCI_ONT_GENERIC : generic not defined action</li>
</ul>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="group__g__subscription.html#ga91d8396f3557037acc0667d066010852" title="Return the name of the database that generated the event.">OCI_EventGetDatabase()</a> returns the affected database</dd>
<dd>
<a class="el" href="group__g__subscription.html#ga3bb56ac5e63da5ce1e9a1e8ed541ff35" title="Return the name of the name of the object that generated the event.">OCI_EventGetObject()</a> returns the affected object ('schema_name'.'object_name')</dd>
<dd>
OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions</dd>
<dd>
if OCI_CNT_ROWS is passed to <a class="el" href="group__g__subscription.html#gae5ed7f8bee2cc2d9d7e7babfb65529bd" title="Register a notification against the given database.">OCI_SubscriptionRegister()</a>, the rowid of the altered row can be retrieved with <a class="el" href="group__g__subscription.html#ga188c67375bfce08c8d737124ec0494e4" title="Return the rowid of the altered database object row.">OCI_EventGetRowid()</a> </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00098">98</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga91d8396f3557037acc0667d066010852"></a><!-- doxytag: member="ocilib.h::OCI_EventGetDatabase" ref="ga91d8396f3557037acc0667d066010852" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT const dtext* OCI_API OCI_EventGetDatabase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of the database that generated the event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00114">114</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3bb56ac5e63da5ce1e9a1e8ed541ff35"></a><!-- doxytag: member="ocilib.h::OCI_EventGetObject" ref="ga3bb56ac5e63da5ce1e9a1e8ed541ff35" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT const dtext* OCI_API OCI_EventGetObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the name of the name of the object that generated the event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00130">130</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga188c67375bfce08c8d737124ec0494e4"></a><!-- doxytag: member="ocilib.h::OCI_EventGetRowid" ref="ga188c67375bfce08c8d737124ec0494e4" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT const dtext* OCI_API OCI_EventGetRowid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the rowid of the altered database object row. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00146">146</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6a8667ed40a4be1eb47b1a0552791407"></a><!-- doxytag: member="ocilib.h::OCI_EventGetSubscription" ref="ga6a8667ed40a4be1eb47b1a0552791407" args="(OCI_Event *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OCI_EXPORT <a class="el" href="struct_o_c_i___subscription.html">OCI_Subscription</a>* OCI_API OCI_EventGetSubscription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_c_i___event.html">OCI_Event</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the subscription handle that generated this event. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>- Event handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>OCI_ENV_EVENTS flag must be passed to <a class="el" href="group__g__init.html#ga5477d70fd14cf997390271aa748a1c0e" title="Initialize the library.">OCI_Initialize()</a> to be able to use subscriptions </dd></dl>

<p>Definition at line <a class="el" href="event_8c_source.html#l00162">162</a> of file <a class="el" href="event_8c_source.html">event.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Dec 4 2011 15:41:34 for OCILIB (C Driver for Oracle) by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
